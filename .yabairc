# BSP layout
# sudo yabai --load-sa
# yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"

split_ratio_step_amount=0.1

# float system preferences
yabai -m rule --add app="^System Preferences$" manage=off

yabai -m config layout bsp
yabai -m config window_placement first_child
yabai -m config mouse_follows_focus on
yabai -m config focus_follows_mouse autofocus
yabai -m config window_border on
yabai -m config active_window_border_color 0xff000000
yabai -m config active_window_border_color 0x00ff0000
yabai -m config mouse_modifier cmd
yabai -m config mouse_action2 resize

# function yabai_current_display {
#   local display_num=$(yabai -m query --windows|jp '[?focused==`1`]|[0].display')
#   echo $display_num
# }
# function yabai_get_displays_count {
#   local displays_count=$(yabai -m query --displays |jp 'length(@)')
#   echo $displays_count
# }
# # works for displays_count=2, should work for any count
# function yabai_get_next_display_number {
#   local current_display=`yabai_current_display`
#   local displays_count=`yabai_get_displays_count`
#   local next_display=$(( ((current_display ) % (displays_count )) +1 ))
#   echo $next_display
# }

# function yabai_move_next_display {
#   local next_display=`yabai_get_next_display_number`
#   yabai -m display --focus ${next_display}
# }

# function yabai_get_split_ratio {
#   yabai -m config split_ratio
# }

# function yabai_split_ratio_up {
#   local current_ratio=`yabai -m config split_ratio`
#   new_ratio=$(( max(($current_ratio + split_ratio_step_amount, 1) ))
#   echo $new_ratio
# }

# function yabai_split_ratio_down {
#   local current_ratio=`yabai -m config split_ratio`
#   new_ratio=$(( min(($current_ratio - split_ratio_step_amount, 0) ))
#   echo $new_ratio
# }
